import jsonimport osfrom datetime import datetimeDB_FILE = os.path.join("data", "listings.json")BACKUP_DIR = os.path.join("data", "backups")def _ensure_backup_dir():    os.makedirs(BACKUP_DIR, exist_ok=True)def _create_backup_if_exists():    """    يسوي نسخة من listings.json قبل الحفظ (إذا الملف موجود).    النسخ تنحفظ داخل data/backups باسم timestamp حتى ما يصير overwrite.    """    if not os.path.exists(DB_FILE):        return False    _ensure_backup_dir()    ts = datetime.now().strftime("%Y-%m-%d_%H-%M-%S")    backup_path = os.path.join(BACKUP_DIR, f"listings_{ts}.json")    with open(DB_FILE, "r", encoding="utf-8") as src:        content = src.read()    with open(backup_path, "w", encoding="utf-8") as dst:        dst.write(content)    return Truedef load_data():    with open(DB_FILE, "r", encoding="utf-8") as f:        return json.load(f)def save_data(data):    # ✅ Backup قبل الحفظ    _create_backup_if_exists()    # ✅ حفظ الداتا الجديدة    with open(DB_FILE, "w", encoding="utf-8") as f:        json.dump(data, f, ensure_ascii=False, indent=2)